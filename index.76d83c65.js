!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},a={},n=t.parcelRequirefb1c;null==n&&((n=function(e){if(e in r)return r[e].exports;if(e in a){var t=a[e];delete a[e];var n={id:e,exports:{}};return r[e]=n,t.call(n.exports,n,n.exports),n.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){a[e]=t},t.parcelRequirefb1c=n);var o,c=n("2vAcg"),u=n("bpxeT"),i=n("2TvXO");(c=n("2vAcg")).default.getMoviesTodayTrends=e(u)(e(i).mark((function t(){var r,a,n,o,u=arguments;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>0&&void 0!==u[0]?u[0]:c.default.currentPage,a=document.getElementById(c.default.MOVIE_CARDS_PARENT_ELEMENT_ID),c.default.Loading.circle(),e.next=5,c.default.api.get("movie/popular?page=".concat(r));case 5:return n=e.sent,console.log(n),e.next=9,c.default.showMovieCards(n);case 9:o=e.sent,a.insertAdjacentHTML("afterbegin",o),c.default.Loading.remove(),c.default.totalPages=n.total_pages;case 13:case"end":return e.stop()}}),t)}))),c.default.renderMovieCardHTML=(o=e(u)(e(i).mark((function t(r){var a,n,o,u,s,l,d,f,v,p,g,h,m;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.default.api.get("movie/"+r);case 2:for(a=e.sent,n=a.poster_path,o="https://image.tmdb.org/t/p/w500",u=[],s=!0,l=!1,d=void 0,e.prev=7,f=a.genres[Symbol.iterator]();!(s=(v=f.next()).done);s=!0)p=v.value,u.push(p.name);e.next=15;break;case 11:e.prev=11,e.t0=e.catch(7),l=!0,d=e.t0;case 15:e.prev=15,e.prev=16,s||null==f.return||f.return();case 18:if(e.prev=18,!l){e.next=21;break}throw d;case 21:return e.finish(18);case 22:return e.finish(15);case 23:return g=u,g=u.length>2?"".concat(u[0],",").concat(u[1],",Other"):u,h=a.release_date.split("-")[0],m=a.original_title,a.vote_average,a.popularity,a.overview,e.abrupt("return",'\n   <li class = "movie-card" id="'.concat(c.default.createMovieCardId(r),'">\n       <div class="movie-thumb">\n        <img class="movie-image" src="').concat(o).concat(n,'" alt="Poster image" loading="lazy" />\n       </div>\n      <div class="movie-info">\n        <p class="movie-name">').concat(m,'</p>\n        <p class="movie-genres">').concat(g," | ").concat(h,"</p>\n      </div>\n    </li>"));case 31:case"end":return e.stop()}}),t,null,[[7,11,15,23],[16,,18,22]])}))),function(e){return o.apply(this,arguments)}),c.default.showMovieCards=function(){var t=e(u)(e(i).mark((function t(r){var a,n,o,u,s,l,d;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="",n=!0,o=!1,u=void 0,e.prev=2,s=r.results[Symbol.iterator]();case 4:if(n=(l=s.next()).done){e.next=13;break}return d=l.value,e.t0=a,e.next=9,c.default.renderMovieCardHTML(d.id);case 9:a=e.t0+=e.sent;case 10:n=!0,e.next=4;break;case 13:e.next=19;break;case 15:e.prev=15,e.t1=e.catch(2),o=!0,u=e.t1;case 19:e.prev=19,e.prev=20,n||null==s.return||s.return();case 22:if(e.prev=22,!o){e.next=25;break}throw u;case 25:return e.finish(22);case 26:return e.finish(19);case 27:return e.abrupt("return",a);case 28:case"end":return e.stop()}}),t,null,[[2,15,19,27],[20,,22,26]])})));return function(e){return t.apply(this,arguments)}}(),c.default.getMoviesTodayTrends();u=n("bpxeT"),i=n("2TvXO");(c=n("2vAcg")).default.getMoviesByKeyWord=function(){var t=e(u)(e(i).mark((function t(r){var a;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.default.Loading.circle(),c.default.currentKeyword=r,e.next=4,c.default.api.get("search/keyword?query=".concat(r,"&page=").concat(c.default.currentPage));case 4:if(a=e.sent,c.default.Loading.remove(),!(a.total_results>0)){e.next=11;break}return c.default.totalPages=a.total_pages,e.abrupt("return",a);case 11:return c.default.onSearchFailed(),e.abrupt("return",{});case 13:Notify.success("Notiflix Test");case 14:case"end":return e.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();c=n("2vAcg");var s=document.querySelector(".FormError");c.default.onSearchFailed=function(){s.classList.remove("hidden")},c.default.onSearchSuccess=function(){s.classList.add("hidden")};c=n("2vAcg");document.querySelector("div.pagination").addEventListener("click",(function(e){var t=e.target;if("BUTTON"===t.nodeName){var r=t.id;"left_arrow_btn"===r?c.default.currentPage>1&&(console.log("Poprzednia strona"),c.default.currentPage=c.default.currentPage-1):"right_arrow_btn"===r?(console.log("Kolejna strona"),c.default.currentPage=c.default.currentPage+1):c.default.currentPage=t.value,c.default.currentKeyword?c.default.getMoviesByKeyWord(c.default.currentKeyword):c.default.getMoviesTodayTrends()}})),n("7hKzD"),n("lI8oI"),c.default.currentWebPage="home"}();
//# sourceMappingURL=index.76d83c65.js.map
