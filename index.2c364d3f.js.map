{"mappings":"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","sources":["src/index.js","src/js/gallery.js","src/js/keyword.js","src/js/search-form.js","src/js/pagination-gallery.js"],"sourcesContent":["import app from './js/global/app';\n\napp.currentWebPage = 'home';\n\nconsole.log(\"Current Web Page: \" + app.currentWebPage);\n\nimport './js/gallery';\nimport './js/keyword';\nimport './js/search-form';\nimport './js/pagination-gallery';\nimport './js/footer';\nimport './js/movie-window';\n\nconsole.log(\"Current Home Movies Page: \" + app.currentPage);\n","import app from './global/app';\n\napp.getMoviesTodayTrends = async function (page = app.currentPage) {\n  const galleryULElement = document.getElementById(\n    app.MOVIE_CARDS_PARENT_ELEMENT_ID\n  );\n\n  app.Loading.circle();\n\n  const movies = await app.api.get(`movie/popular?page=${page}`);\n  console.log(movies);\n  const movieCards = await app.showMovieCards(movies);\n\n  galleryULElement.insertAdjacentHTML('afterbegin', movieCards);\n\n  app.Loading.remove();\n  app.totalPages = movies.total_pages;\n};\n\napp.renderMovieCardHTML = async function (movieId) {\n  const movieObject = await app.api.get('movie/' + movieId);\n  const poster = movieObject.poster_path;\n  const posterUrl = 'https://image.tmdb.org/t/p/w500';\n  const movieGenres = [];\n\n  for (const genre of movieObject.genres) {\n    movieGenres.push(genre.name);\n  }\n  const movieYear = movieObject.release_date.split('-')[0];\n  const title = movieObject.original_title;\n  const votes = movieObject.vote_average;\n  const popularity = movieObject.popularity;\n  const about = movieObject.overview;\n\n  return `\n   <li class = \"movie-card\">\n       <div class=\"movie-thumb\">\n        <img class=\"movie-image\" src=\"${posterUrl}${poster}\" alt=\"Poster image\" loading=\"lazy\" />\n       </div>\n      <div class=\"movie-info\">\n        <p class=\"movie-name\">${title}</p>\n        <p class=\"movie-genres\">${movieGenres} | ${movieYear}</p>\n      </div>\n    </li>`;\n};\n\napp.showMovieCards = async function (moviesArray) {\n  let html = '';\n\n  for (const movie of moviesArray.results) {\n    html += await app.renderMovieCardHTML(movie.id);\n  }\n\n  return html;\n};\napp.getMoviesTodayTrends();\n","import app from './global/app';\n\n// app.getMoviesByKeyWord = async function (keyword) {\n//   app.currentKeyword = keyword;\n//   const keyword = await app.api.get('search/keyword?query=${keyword}');\n//   console.log(keyword);\n//   return keyword;\n// };\n\n// app.getMoviesByKeyWord();\n\napp.getMoviesByKeyWord = async function (keyword) {\n  Loading.circle();\n  app.currentKeyword = keyword;\n  const keywordData = await app.api.get(\n    `search/keyword?query=${keyword}&page=${app.currentPage}`\n  );\n  Loading.remove();\n  if (keywordData.total_results > 0) {\n    return keywordData;\n  } else {\n    app.onSearchFailed();\n    return {};\n  }\n\n  Notify.success('Notiflix Test');\n};\n//   app.currentKeyword = keyword;\n\n//   const keywordData = await app.api.get(`search/keyword?query=${keyword}&page${app.currentPage}`);\n\n//   if (keywordData.total_results > 0) {\n//     return keywordData;\n//   } else {\n//     app.onSearchFailed();\n//     throw new Error('No movies found');\n//   }\n// };\n\n// app.getMoviesByKeyWord('keyword');\n","import app from './global/app';\n\nconst formError = document.querySelector('.FormError');\n\napp.onSearchFailed = function () {\n  formError.classList.remove('hidden');\n};\n\napp.onSearchSuccess = function () {\n  formError.classList.add('hidden');\n}\n","import app from './global/app';\n\nconst paginationDiv = document.querySelector('div.pagination');\npaginationDiv.addEventListener(\"click\", onPaginationDivClick);\n\nfunction onPaginationDivClick(event) {\n    const elementWhichWasClicked = event.target;\n    if (elementWhichWasClicked.nodeName === \"BUTTON\") {\n        const buttonId = elementWhichWasClicked.id\n        //\n        if (buttonId === \"left_arrow_btn\") {\n            if (app.currentPage > 1){\n            console.log(\"Poprzednia strona\")\n            app.currentPage = app.currentPage - 1;\n            }\n        } else if (buttonId === \"right_arrow_btn\") {\n            console.log(\"Kolejna strona\")\n            app.currentPage = app.currentPage + 1;\n\n        } else {\n                app.currentPage = elementWhichWasClicked.value;\n        }\n        // sprawdz czy jest w app.currentKeyWord jakas wartosc, jesli tak -> wywołanie fukncji app.getMoviesByKeyWord (app.currentKeyWord)\n            // jesli nie -> wywołanie funkcji app.getMoviesTodayTrends\n        if (app.currentKeyword) {\n            app.getMoviesByKeyWord(app.currentKeyword);\n        } else {\n            app.getMoviesTodayTrends();\n        }\n\n    }}\n\n"],"names":["$2vAcg","parcelRequire","$bpxeT","default","getMoviesTodayTrends","$parcel$interopDefault","$2TvXO","mark","_callee","page","galleryULElement","movies","movieCards","_args","arguments","length","currentPage","document","getElementById","MOVIE_CARDS_PARENT_ELEMENT_ID","Loading","circle","api","get","concat","_ctx","sent","console","log","showMovieCards","insertAdjacentHTML","remove","totalPages","total_pages","renderMovieCardHTML","movieId","movieObject","poster","posterUrl","movieGenres","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","genre","movieYear","title","poster_path","undefined","genres","Symbol","iterator","next","done","value","push","name","t0","return","release_date","split","original_title","vote_average","popularity","overview","moviesArray","html","movie","results","id","t1","getMoviesByKeyWord","keyword","keywordData","currentKeyword","total_results","onSearchFailed","Notify","success","$b20aa1c1a1ad0048$var$formError","querySelector","classList","onSearchSuccess","add","addEventListener","event","elementWhichWasClicked","target","nodeName","buttonId","currentWebPage"],"version":3,"file":"index.2c364d3f.js.map"}