{"mappings":"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","sources":["src/index.js","src/js/gallery.js","src/js/keyword.js","src/js/search-form.js","src/js/pagination-gallery.js"],"sourcesContent":["import app from './js/global/app';\n\napp.currentWebPage = 'home';\n\nimport './js/gallery';\nimport './js/keyword';\nimport './js/search-form';\nimport './js/pagination-gallery';\nimport './js/footer';\nimport './js/movie-window';\n","import app from './global/app';\n\napp.getMoviesTodayTrends = async function () {\n  app.Loading.circle();\n\n  const galleryULElement = document.getElementById(\n    app.MOVIE_CARDS_PARENT_ELEMENT_ID\n  );\n\n  const movies = await app.api.get(`movie/popular?page=${app.currentPage}`);\n  const movieCards = await app.showMovieCards(movies);\n\n  galleryULElement.innerHTML = movieCards;\n\n  app.totalPages = movies.total_pages;\n  app.setPaginationButtons();\n  app.Loading.remove();\n};\n\napp.getMoviesByKeyWord = async function (keyword) {\n  app.Loading.circle();\n\n  const galleryULElement = document.getElementById(\n    app.MOVIE_CARDS_PARENT_ELEMENT_ID\n  );\n\n  galleryULElement.innerHTML = '';\n\n  const movies = await app.api.get(\n    `discover/movie?with_keywords=${keyword}&page=${app.currentPage}`\n  );\n  const movieCards = await app.showMovieCards(movies);\n\n\n  app.Loading.remove();\n\n  if (movies.total_results > 0) {\n    app.currentKeyword = keyword;\n    app.totalPages = movies.total_pages;\n    app.onSearchSuccess();\n    galleryULElement.innerHTML = movieCards;\n  } else {\n    app.currentKeyword = '';\n    app.totalPages = 0;\n    app.onSearchFailed();\n  }\n\n  app.setPaginationButtons();\n};\n\napp.renderMovieCardHTML = async function (movieId) {\n  try {\n    const movieObject = await app.api.get('movie/' + movieId);\n\n    const moviePoster =\n      'https://image.tmdb.org/t/p/w500' + movieObject.poster_path;\n    const movieYear = movieObject.release_date.split('-')[0];\n    const movieTitle = movieObject.original_title;\n\n    const genresArray = [];\n\n    let genres = '';\n\n    for (const genre of movieObject.genres) {\n      genresArray.push(genre.name);\n    }\n\n    if (genresArray.length > 2) {\n      genres = `${genresArray[0]}, ${genresArray[1]}, Other`;\n    } else {\n      genres = genresArray.join(', ');\n    }\n\n    return `\n      <li class = \"movie-card\" id=\"${app.createMovieCardId(movieId)}\">\n          <div class=\"movie-thumb\">\n            <img class=\"movie-image\" src=\"${moviePoster}\" alt=\"Poster image\" loading=\"lazy\" />\n          </div>\n          <div class=\"movie-info\">\n            <p class=\"movie-name\">${movieTitle}</p>\n            <p class=\"movie-genres\">${genres} | ${movieYear}</p>\n          </div>\n        </li>`;\n  } catch (error) {\n    console.log('API: Movie ' + movieId + \" don't exist in api database!\");\n\n    return '';\n  }\n};\n\napp.showMovieCards = async function (moviesArray) {\n  let html = '';\n\n  for (const movie of moviesArray.results) {\n    html += await app.renderMovieCardHTML(movie.id);\n  }\n\n  return html;\n};\n\napp.getMoviesTodayTrends();\n","import app from './global/app';\n\n// app.getMoviesByKeyWord = async function (keyword) {\n//   app.currentKeyword = keyword;\n//   const keyword = await app.api.get('search/keyword?query=${keyword}');\n//   console.log(keyword);\n//   return keyword;\n// };\n\n// app.getMoviesByKeyWord();\n\n\n//   app.currentKeyword = keyword;\n\n//   const keywordData = await app.api.get(`search/keyword?query=${keyword}&page${app.currentPage}`);\n\n//   if (keywordData.total_results > 0) {\n//     return keywordData;\n//   } else {\n//     app.onSearchFailed();\n//     throw new Error('No movies found');\n//   }\n// };\n\n// app.getMoviesByKeyWord('keyword');\n","import app from './global/app';\n\nconst searchMsg = document.querySelector('.search-msg');\nconst searchForm = document.getElementById(app.SEARCH_FORM_ELEMENT_ID);\n\nfunction onSubmit(event) {\n  const keyword = event.target.elements.keyword.value;\n\n  event.preventDefault();\n  app.getMoviesByKeyWord(keyword);\n}\n\nsearchForm.addEventListener('submit', onSubmit);\n\napp.onSearchFailed = function () {\n  searchMsg.classList.remove('hidden');\n};\n\napp.onSearchSuccess = function () {\n  searchMsg.classList.add('hidden');\n};\n","import app from './global/app';\n\nconst paginationDiv = document.querySelector('div.pagination');\n\nconst firstBtn = document.getElementById('first-btn');\nconst lastBtn = document.getElementById('last-btn');\n\napp.setPaginationButtons = function () {\n  const btn1 = document.getElementById('btn1');\n  const btn2 = document.getElementById('btn2');\n  const btn3 = document.getElementById('btn3');\n  const btn4 = document.getElementById('btn4');\n  const btn5 = document.getElementById('btn5');\n\n  const buttonsArray = [btn1, btn2, btn3, btn4, btn5];\n\n  let activeBtn = null;\n\n  firstBtn.textContent = '1';\n  firstBtn.value = '1';\n\n  lastBtn.textContent = app.totalPages;\n  lastBtn.value = app.totalPages;\n\n  if (app.currentPage < 3) {\n    btn1.textContent = '1';\n    btn1.value = '1';\n\n    btn2.textContent = '2';\n    btn2.value = '2';\n\n    btn3.textContent = '3';\n    btn3.value = '3';\n\n    btn4.textContent = '4';\n    btn4.value = '4';\n\n    btn5.textContent = '5';\n    btn5.value = '5';\n  } else if (app.currentPage > app.totalPages - 3) {\n    btn1.textContent = app.totalPages - 4;\n    btn1.value = app.totalPages - 4;\n\n    btn2.textContent = app.totalPages - 3;\n    btn2.value = app.totalPages - 3;\n\n    btn3.textContent = app.totalPages - 2;\n    btn3.value = app.totalPages - 2;\n\n    btn4.textContent = app.totalPages - 1;\n    btn4.value = app.totalPages - 1;\n\n    btn5.textContent = app.totalPages;\n    btn5.value = app.totalPages;\n  } else {\n    btn1.textContent = app.currentPage - 2;\n    btn1.value = app.currentPage - 2;\n\n    btn2.textContent = app.currentPage - 1;\n    btn2.value = app.currentPage - 1;\n\n    btn3.textContent = app.currentPage;\n    btn3.value = app.currentPage;\n\n    btn4.textContent = app.currentPage + 1;\n    btn4.value = app.currentPage + 1;\n\n    btn5.textContent = app.currentPage + 2;\n    btn5.value = app.currentPage + 2;\n  }\n\n  buttonsArray.forEach(btn => {\n    btn.classList.remove('active');\n  });\n\n  activeBtn = buttonsArray.find(btn => btn.value == app.currentPage);\n  activeBtn.classList.add('active');\n};\n\nfunction onPaginationDivClick(event) {\n  const elementWhichWasClicked = event.target;\n  if (elementWhichWasClicked.nodeName === 'BUTTON') {\n    const buttonId = elementWhichWasClicked.id;\n\n    if (buttonId === 'left-btn') {\n      if (app.currentPage > 1) {\n        app.currentPage -= 1;\n      }\n    } else if (buttonId === 'right-btn') {\n      if (app.currentPage < app.totalPages - 1) {\n        app.currentPage += 1;\n      }\n    } else {\n      app.currentPage = elementWhichWasClicked.value;\n    }\n\n    if (app.currentKeyword) {\n      app.getMoviesByKeyWord(app.currentKeyword);\n    } else {\n      app.getMoviesTodayTrends();\n    }\n\n    console.log('current page: ' + app.currentPage);\n  }\n}\n\npaginationDiv.addEventListener('click', onPaginationDivClick);\n"],"names":["$2vAcg","parcelRequire","$bpxeT","default","getMoviesTodayTrends","$parcel$interopDefault","$2TvXO","mark","_callee","galleryULElement","movies","movieCards","Loading","circle","document","getElementById","MOVIE_CARDS_PARENT_ELEMENT_ID","api","get","concat","currentPage","_ctx","sent","showMovieCards","innerHTML","totalPages","total_pages","setPaginationButtons","remove","getMoviesByKeyWord","keyword","total_results","currentKeyword","onSearchSuccess","onSearchFailed","renderMovieCardHTML","movieId","movieObject","moviePoster","movieYear","movieTitle","genresArray","genres","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","genre","poster_path","release_date","split","original_title","undefined","Symbol","iterator","next","done","value","push","name","t0","return","length","join","createMovieCardId","console","log","moviesArray","html","movie","results","id","t1","$b20aa1c1a1ad0048$var$searchMsg","querySelector","SEARCH_FORM_ELEMENT_ID","addEventListener","event","target","elements","preventDefault","classList","add","$46c92a6bf64a4e36$var$paginationDiv","$46c92a6bf64a4e36$var$firstBtn","$46c92a6bf64a4e36$var$lastBtn","btn1","btn2","btn3","btn4","btn5","buttonsArray","textContent","forEach","btn","find","elementWhichWasClicked","nodeName","buttonId","currentWebPage"],"version":3,"file":"index.4098793e.js.map"}