{"mappings":"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","sources":["src/index.js","src/js/gallery.js","src/js/keyword.js","src/js/search-form.js","src/js/pagination-gallery.js"],"sourcesContent":["import app from './js/global/app';\n\napp.currentWebPage = 'home';\n\nimport './js/gallery';\nimport './js/keyword';\nimport './js/search-form';\nimport './js/pagination-gallery';\nimport './js/footer';\nimport './js/movie-window';\n","import app from './global/app';\n\napp.getMoviesTodayTrends = async function (page = app.currentPage) {\n  const galleryULElement = document.getElementById(\n    app.MOVIE_CARDS_PARENT_ELEMENT_ID\n  );\n\n  app.Loading.circle();\n\n  const movies = await app.api.get(`movie/popular?page=${page}`);\n  const movieCards = await app.showMovieCards(movies);\n\n  galleryULElement.innerHTML = movieCards;\n\n  app.currentPage = movies.page;\n  app.totalPages = movies.total_pages;\n  app.Loading.remove();\n};\n\napp.renderMovieCardHTML = async function (movieId) {\n  const movieObject = await app.api.get('movie/' + movieId);\n  const moviePoster = 'https://image.tmdb.org/t/p/w500' + movieObject.poster_path;\n  const movieYear = movieObject.release_date.split('-')[0];\n  const movieTitle = movieObject.original_title;\n  const genresArray = [];\n\n  let genres = '';\n\n  for (const genre of movieObject.genres) {\n    genresArray.push(genre.name);\n  }\n\n  if (genresArray.length > 2) {\n     genres = `${genresArray[0]}, ${genresArray[1]}, Other`;\n  } else {\n     genres = genresArray.join(\", \");\n  }  \n\n  return `\n   <li class = \"movie-card\" id=\"${app.createMovieCardId(movieId)}\">\n       <div class=\"movie-thumb\">\n        <img class=\"movie-image\" src=\"${moviePoster}\" alt=\"Poster image\" loading=\"lazy\" />\n       </div>\n      <div class=\"movie-info\">\n        <p class=\"movie-name\">${movieTitle}</p>\n        <p class=\"movie-genres\">${genres} | ${movieYear}</p>\n      </div>\n    </li>`;\n};\n\napp.showMovieCards = async function (moviesArray) {\n  let html = '';\n\n  for (const movie of moviesArray.results) {\n    html += await app.renderMovieCardHTML(movie.id);\n  }\n\n  return html;\n};\n\napp.getMoviesTodayTrends();\n","import app from './global/app';\n\n// app.getMoviesByKeyWord = async function (keyword) {\n//   app.currentKeyword = keyword;\n//   const keyword = await app.api.get('search/keyword?query=${keyword}');\n//   console.log(keyword);\n//   return keyword;\n// };\n\n// app.getMoviesByKeyWord();\n\napp.getMoviesByKeyWord = async function (keyword) {\n  app.Loading.circle();\n  app.currentKeyword = keyword;\n  const keywordData = await app.api.get(\n    `search/keyword?query=${keyword}&page=${app.currentPage}`\n  );\n  app.Loading.remove();\n\n  if (keywordData.total_results > 0) {\n    app.totalPages = keywordData.total_pages;\n    return keywordData;\n    \n  } else {\n    app.onSearchFailed();\n    return {};\n  }\n\n  Notify.success('Notiflix Test');\n};\n//   app.currentKeyword = keyword;\n\n//   const keywordData = await app.api.get(`search/keyword?query=${keyword}&page${app.currentPage}`);\n\n//   if (keywordData.total_results > 0) {\n//     return keywordData;\n//   } else {\n//     app.onSearchFailed();\n//     throw new Error('No movies found');\n//   }\n// };\n\n// app.getMoviesByKeyWord('keyword');\n","import app from './global/app';\n\nconst formError = document.querySelector('.FormError');\n\napp.onSearchFailed = function () {\n  formError.classList.remove('hidden');\n};\n\napp.onSearchSuccess = function () {\n  formError.classList.add('hidden');\n}\n","import app from './global/app';\n\nconst paginationDiv = document.querySelector('div.pagination');\n\nconst firstBtn = document.getElementById('first-btn');\nconst lastBtn = document.getElementById('last-btn');\nconst btn1 = document.getElementById('btn1');\nconst btn2 = document.getElementById('btn2');\nconst btn3 = document.getElementById('btn3');\nconst btn4 = document.getElementById('btn4');\nconst btn5 = document.getElementById('btn5');\n\nfunction setButtons() {\n  firstBtn.textContent = '1';\n  firstBtn.value = '1';\n\n  lastBtn.textContent = app.totalPages;\n  lastBtn.value = app.totalPages;\n\n  if (app.currentPage < 3) {\n    btn1.textContent = '1';\n    btn1.value = '1';\n\n    btn2.textContent = '2';\n    btn2.value = '2';\n\n    btn3.textContent = '3';\n    btn3.value = '3';\n\n    btn4.textContent = '4';\n    btn4.value = '4';\n\n    btn5.textContent = '5';\n    btn5.value = '5';\n  } else if (app.currentPage > app.totalPages - 3) {\n    btn1.textContent = app.totalPages - 4;\n    btn1.value = app.totalPages - 4;\n\n    btn2.textContent = app.totalPages - 3;\n    btn2.value = app.totalPages - 3;\n\n    btn3.textContent = app.totalPages - 2;\n    btn3.value = app.totalPages - 2;\n\n    btn4.textContent = app.totalPages - 1;\n    btn4.value = app.totalPages - 1;\n\n    btn5.textContent = app.totalPages;\n    btn5.value = app.totalPages;\n  } else {\n    btn1.textContent = app.currentPage - 2;\n    btn1.value = app.currentPage - 2;\n\n    btn2.textContent = app.currentPage - 1;\n    btn2.value = app.currentPage - 1;\n\n    btn3.textContent = app.currentPage;\n    btn3.value = app.currentPage;\n\n    btn4.textContent = app.currentPage + 1;\n    btn4.value = app.currentPage;\n\n    btn5.textContent = app.currentPage + 2;\n    btn5.value = app.currentPage + 2;\n  }\n}\n\nfunction onPaginationDivClick(event) {\n  const elementWhichWasClicked = event.target;\n  if (elementWhichWasClicked.nodeName === 'BUTTON') {\n    const buttonId = elementWhichWasClicked.id;\n\n    if (buttonId === 'left-btn') {\n      if (app.currentPage > 1) {\n        app.currentPage = app.currentPage - 1;\n      }\n    } else if (buttonId === 'right-btn') {\n      if (app.currentPage < app.totalPages - 1) {\n        app.currentPage = app.currentPage + 1;\n      }\n    } else {\n      app.currentPage = elementWhichWasClicked.value;\n    }\n\n    setButtons();\n\n    if (app.currentKeyword) {\n      app.getMoviesByKeyWord(app.currentKeyword);\n    } else {\n      app.getMoviesTodayTrends();\n    }\n\n    console.log(\"current page: \" + app.currentPage);\n  }\n}\n\nsetButtons();\n\npaginationDiv.addEventListener('click', onPaginationDivClick);\n\nbtn1.classList.add('active');\n"],"names":["$2vAcg","parcelRequire","$bpxeT","default","getMoviesTodayTrends","$parcel$interopDefault","$2TvXO","mark","_callee","page","galleryULElement","movies","movieCards","_args","arguments","length","currentPage","document","getElementById","MOVIE_CARDS_PARENT_ELEMENT_ID","Loading","circle","api","get","concat","_ctx","sent","showMovieCards","innerHTML","totalPages","total_pages","remove","renderMovieCardHTML","movieId","movieObject","moviePoster","movieYear","movieTitle","genresArray","genres","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","genre","poster_path","release_date","split","original_title","undefined","Symbol","iterator","next","done","value","push","name","t0","return","join","createMovieCardId","moviesArray","html","movie","results","id","t1","getMoviesByKeyWord","keyword","keywordData","currentKeyword","total_results","onSearchFailed","Notify","success","$b20aa1c1a1ad0048$var$formError","querySelector","classList","onSearchSuccess","add","$46c92a6bf64a4e36$var$paginationDiv","$46c92a6bf64a4e36$var$firstBtn","$46c92a6bf64a4e36$var$lastBtn","$46c92a6bf64a4e36$var$btn1","$46c92a6bf64a4e36$var$btn2","$46c92a6bf64a4e36$var$btn3","$46c92a6bf64a4e36$var$btn4","$46c92a6bf64a4e36$var$btn5","$46c92a6bf64a4e36$var$setButtons","textContent","addEventListener","event","elementWhichWasClicked","target","nodeName","buttonId","console","log","currentWebPage"],"version":3,"file":"index.4d9c9eef.js.map"}