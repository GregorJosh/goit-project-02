{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,UCAAD,EAAAC,EAAA,UAEAC,QAAIC,qBAAuBC,eAAgBC,EAAOL,EAAAE,QAAII,aACpD,MAAMC,EAAmBC,SAASC,eAChCT,EAAAE,QAAIQ,+BAGNV,EAAAE,QAAIS,QAAQC,SAEZ,MAAMC,QAAeb,EAAAE,QAAIY,IAAIC,IAAI,sBAAsBV,KACjDW,QAAmBhB,EAAAE,QAAIe,eAAeJ,GAE5CN,EAAiBW,UAAYF,EAE7BhB,EAAAE,QAAII,YAAcO,EAAOR,KACzBL,EAAAE,QAAIiB,WAAaN,EAAOO,YACxBpB,EAAAE,QAAIS,QAAQU,Q,EAGdrB,EAAAE,QAAIoB,oBAAsBlB,eAAgBmB,GACxC,MAAMC,QAAoBxB,EAAAE,QAAIY,IAAIC,IAAI,SAAWQ,GAC3CE,EAAc,kCAAoCD,EAAYE,YAC9DC,EAAYH,EAAYI,aAAaC,MAAM,KAAK,GAChDC,EAAaN,EAAYO,eACzBC,EAAc,GAEpB,IAAIC,EAAS,GAEb,IAAK,MAAMC,KAASV,EAAYS,OAC9BD,EAAYG,KAAKD,EAAME,MASzB,OALGH,EADCD,EAAYK,OAAS,EACb,GAAGL,EAAY,OAAOA,EAAY,YAElCA,EAAYM,KAAK,MAGtB,qCACyBtC,EAAAE,QAAIqC,kBAAkBhB,iFAEhBE,yHAGRK,0CACEG,OAAYN,gC,EAK9C3B,EAAAE,QAAIe,eAAiBb,eAAgBoC,GACnC,IAAIC,EAAO,GAEX,IAAK,MAAMC,KAASF,EAAYG,QAC9BF,SAAczC,EAAAE,QAAIoB,oBAAoBoB,EAAME,IAG9C,OAAOH,C,EAGTzC,EAAAE,QAAIC,wBC5DJH,EAAAC,EAAA,UAWAC,QAAI2C,mBAAqBzC,eAAgB0C,GACvC9C,EAAAE,QAAIS,QAAQC,SACZZ,EAAAE,QAAI6C,eAAiBD,EACrB,MAAME,QAAoBhD,EAAAE,QAAIY,IAAIC,IAChC,wBAAwB+B,UAAgB9C,EAAAE,QAAII,eAI9C,OAFAN,EAAAE,QAAIS,QAAQU,SAER2B,EAAYC,cAAgB,GAC9BjD,EAAAE,QAAIiB,WAAa6B,EAAY5B,YACtB4B,IAGPhD,EAAAE,QAAIgD,iBACG,G,ECzBXlD,EAAAC,EAAA,SAEA,MAAMkD,EAAY3C,SAAS4C,cAAc,cAEzCpD,EAAAE,QAAIgD,eAAiB,WACnBC,EAAUE,UAAUhC,OAAO,S,EAG7BrB,EAAAE,QAAIoD,gBAAkB,WACpBH,EAAUE,UAAUE,IAAI,S,ECT1BvD,EAAAC,EAAA,SAEA,MAAMuD,EAAgBhD,SAAS4C,cAAc,kBAEvCK,EAAWjD,SAASC,eAAe,aACnCiD,EAAUlD,SAASC,eAAe,YAClCkD,EAAOnD,SAASC,eAAe,QAC/BmD,EAAOpD,SAASC,eAAe,QAC/BoD,EAAOrD,SAASC,eAAe,QAC/BqD,EAAOtD,SAASC,eAAe,QAC/BsD,EAAOvD,SAASC,eAAe,QAErC,SAASuD,IACPP,EAASQ,YAAc,IACvBR,EAASS,MAAQ,IAEjBR,EAAQO,YAAcjE,EAAAE,QAAIiB,WAC1BuC,EAAQQ,MAAQlE,EAAAE,QAAIiB,WAEhBnB,EAAAE,QAAII,YAAc,GACpBqD,EAAKM,YAAc,IACnBN,EAAKO,MAAQ,IAEbN,EAAKK,YAAc,IACnBL,EAAKM,MAAQ,IAEbL,EAAKI,YAAc,IACnBJ,EAAKK,MAAQ,IAEbJ,EAAKG,YAAc,IACnBH,EAAKI,MAAQ,IAEbH,EAAKE,YAAc,IACnBF,EAAKG,MAAQ,KACJlE,EAAAE,QAAII,YAAcN,EAAAE,QAAIiB,WAAa,GAC5CwC,EAAKM,YAAcjE,EAAAE,QAAIiB,WAAa,EACpCwC,EAAKO,MAAQlE,EAAAE,QAAIiB,WAAa,EAE9ByC,EAAKK,YAAcjE,EAAAE,QAAIiB,WAAa,EACpCyC,EAAKM,MAAQlE,EAAAE,QAAIiB,WAAa,EAE9B0C,EAAKI,YAAcjE,EAAAE,QAAIiB,WAAa,EACpC0C,EAAKK,MAAQlE,EAAAE,QAAIiB,WAAa,EAE9B2C,EAAKG,YAAcjE,EAAAE,QAAIiB,WAAa,EACpC2C,EAAKI,MAAQlE,EAAAE,QAAIiB,WAAa,EAE9B4C,EAAKE,YAAcjE,EAAAE,QAAIiB,WACvB4C,EAAKG,MAAQlE,EAAAE,QAAIiB,aAEjBwC,EAAKM,YAAcjE,EAAAE,QAAII,YAAc,EACrCqD,EAAKO,MAAQlE,EAAAE,QAAII,YAAc,EAE/BsD,EAAKK,YAAcjE,EAAAE,QAAII,YAAc,EACrCsD,EAAKM,MAAQlE,EAAAE,QAAII,YAAc,EAE/BuD,EAAKI,YAAcjE,EAAAE,QAAII,YACvBuD,EAAKK,MAAQlE,EAAAE,QAAII,YAEjBwD,EAAKG,YAAcjE,EAAAE,QAAII,YAAc,EACrCwD,EAAKI,MAAQlE,EAAAE,QAAII,YAEjByD,EAAKE,YAAcjE,EAAAE,QAAII,YAAc,EACrCyD,EAAKG,MAAQlE,EAAAE,QAAII,YAAc,E,CAiCnC0D,IAEAR,EAAcW,iBAAiB,SA/B/B,SAA8BC,GAC5B,MAAMC,EAAyBD,EAAME,OACrC,GAAwC,WAApCD,EAAuBE,SAAuB,CAChD,MAAMC,EAAWH,EAAuBzB,GAEvB,aAAb4B,EACExE,EAAAE,QAAII,YAAc,IACpBN,EAAAE,QAAII,YAAcN,EAAAE,QAAII,YAAc,GAEhB,cAAbkE,EACLxE,EAAAE,QAAII,YAAcN,EAAAE,QAAIiB,WAAa,IACrCnB,EAAAE,QAAII,YAAcN,EAAAE,QAAII,YAAc,GAGtCN,EAAAE,QAAII,YAAc+D,EAAuBH,MAG3CF,IAEIhE,EAAAE,QAAI6C,eACN/C,EAAAE,QAAI2C,mBAAmB7C,EAAAE,QAAI6C,gBAE3B/C,EAAAE,QAAIC,uBAGNsE,QAAQC,IAAI,iBAAmB1E,EAAAE,QAAII,Y,KAQvCqD,EAAKN,UAAUE,IAAI,U,sBJlGnBvD,EAAAE,QAAIyE,eAAiB","sources":["src/index.js","src/js/gallery.js","src/js/keyword.js","src/js/search-form.js","src/js/pagination-gallery.js"],"sourcesContent":["import app from './js/global/app';\n\napp.currentWebPage = 'home';\n\nimport './js/gallery';\nimport './js/keyword';\nimport './js/search-form';\nimport './js/pagination-gallery';\nimport './js/footer';\nimport './js/movie-window';\n","import app from './global/app';\n\napp.getMoviesTodayTrends = async function (page = app.currentPage) {\n  const galleryULElement = document.getElementById(\n    app.MOVIE_CARDS_PARENT_ELEMENT_ID\n  );\n\n  app.Loading.circle();\n\n  const movies = await app.api.get(`movie/popular?page=${page}`);\n  const movieCards = await app.showMovieCards(movies);\n\n  galleryULElement.innerHTML = movieCards;\n\n  app.currentPage = movies.page;\n  app.totalPages = movies.total_pages;\n  app.Loading.remove();\n};\n\napp.renderMovieCardHTML = async function (movieId) {\n  const movieObject = await app.api.get('movie/' + movieId);\n  const moviePoster = 'https://image.tmdb.org/t/p/w500' + movieObject.poster_path;\n  const movieYear = movieObject.release_date.split('-')[0];\n  const movieTitle = movieObject.original_title;\n  const genresArray = [];\n\n  let genres = '';\n\n  for (const genre of movieObject.genres) {\n    genresArray.push(genre.name);\n  }\n\n  if (genresArray.length > 2) {\n     genres = `${genresArray[0]}, ${genresArray[1]}, Other`;\n  } else {\n     genres = genresArray.join(\", \");\n  }  \n\n  return `\n   <li class = \"movie-card\" id=\"${app.createMovieCardId(movieId)}\">\n       <div class=\"movie-thumb\">\n        <img class=\"movie-image\" src=\"${moviePoster}\" alt=\"Poster image\" loading=\"lazy\" />\n       </div>\n      <div class=\"movie-info\">\n        <p class=\"movie-name\">${movieTitle}</p>\n        <p class=\"movie-genres\">${genres} | ${movieYear}</p>\n      </div>\n    </li>`;\n};\n\napp.showMovieCards = async function (moviesArray) {\n  let html = '';\n\n  for (const movie of moviesArray.results) {\n    html += await app.renderMovieCardHTML(movie.id);\n  }\n\n  return html;\n};\n\napp.getMoviesTodayTrends();\n","import app from './global/app';\n\n// app.getMoviesByKeyWord = async function (keyword) {\n//   app.currentKeyword = keyword;\n//   const keyword = await app.api.get('search/keyword?query=${keyword}');\n//   console.log(keyword);\n//   return keyword;\n// };\n\n// app.getMoviesByKeyWord();\n\napp.getMoviesByKeyWord = async function (keyword) {\n  app.Loading.circle();\n  app.currentKeyword = keyword;\n  const keywordData = await app.api.get(\n    `search/keyword?query=${keyword}&page=${app.currentPage}`\n  );\n  app.Loading.remove();\n\n  if (keywordData.total_results > 0) {\n    app.totalPages = keywordData.total_pages;\n    return keywordData;\n    \n  } else {\n    app.onSearchFailed();\n    return {};\n  }\n\n  Notify.success('Notiflix Test');\n};\n//   app.currentKeyword = keyword;\n\n//   const keywordData = await app.api.get(`search/keyword?query=${keyword}&page${app.currentPage}`);\n\n//   if (keywordData.total_results > 0) {\n//     return keywordData;\n//   } else {\n//     app.onSearchFailed();\n//     throw new Error('No movies found');\n//   }\n// };\n\n// app.getMoviesByKeyWord('keyword');\n","import app from './global/app';\n\nconst formError = document.querySelector('.FormError');\n\napp.onSearchFailed = function () {\n  formError.classList.remove('hidden');\n};\n\napp.onSearchSuccess = function () {\n  formError.classList.add('hidden');\n}\n","import app from './global/app';\n\nconst paginationDiv = document.querySelector('div.pagination');\n\nconst firstBtn = document.getElementById('first-btn');\nconst lastBtn = document.getElementById('last-btn');\nconst btn1 = document.getElementById('btn1');\nconst btn2 = document.getElementById('btn2');\nconst btn3 = document.getElementById('btn3');\nconst btn4 = document.getElementById('btn4');\nconst btn5 = document.getElementById('btn5');\n\nfunction setButtons() {\n  firstBtn.textContent = '1';\n  firstBtn.value = '1';\n\n  lastBtn.textContent = app.totalPages;\n  lastBtn.value = app.totalPages;\n\n  if (app.currentPage < 3) {\n    btn1.textContent = '1';\n    btn1.value = '1';\n\n    btn2.textContent = '2';\n    btn2.value = '2';\n\n    btn3.textContent = '3';\n    btn3.value = '3';\n\n    btn4.textContent = '4';\n    btn4.value = '4';\n\n    btn5.textContent = '5';\n    btn5.value = '5';\n  } else if (app.currentPage > app.totalPages - 3) {\n    btn1.textContent = app.totalPages - 4;\n    btn1.value = app.totalPages - 4;\n\n    btn2.textContent = app.totalPages - 3;\n    btn2.value = app.totalPages - 3;\n\n    btn3.textContent = app.totalPages - 2;\n    btn3.value = app.totalPages - 2;\n\n    btn4.textContent = app.totalPages - 1;\n    btn4.value = app.totalPages - 1;\n\n    btn5.textContent = app.totalPages;\n    btn5.value = app.totalPages;\n  } else {\n    btn1.textContent = app.currentPage - 2;\n    btn1.value = app.currentPage - 2;\n\n    btn2.textContent = app.currentPage - 1;\n    btn2.value = app.currentPage - 1;\n\n    btn3.textContent = app.currentPage;\n    btn3.value = app.currentPage;\n\n    btn4.textContent = app.currentPage + 1;\n    btn4.value = app.currentPage;\n\n    btn5.textContent = app.currentPage + 2;\n    btn5.value = app.currentPage + 2;\n  }\n}\n\nfunction onPaginationDivClick(event) {\n  const elementWhichWasClicked = event.target;\n  if (elementWhichWasClicked.nodeName === 'BUTTON') {\n    const buttonId = elementWhichWasClicked.id;\n\n    if (buttonId === 'left-btn') {\n      if (app.currentPage > 1) {\n        app.currentPage = app.currentPage - 1;\n      }\n    } else if (buttonId === 'right-btn') {\n      if (app.currentPage < app.totalPages - 1) {\n        app.currentPage = app.currentPage + 1;\n      }\n    } else {\n      app.currentPage = elementWhichWasClicked.value;\n    }\n\n    setButtons();\n\n    if (app.currentKeyword) {\n      app.getMoviesByKeyWord(app.currentKeyword);\n    } else {\n      app.getMoviesTodayTrends();\n    }\n\n    console.log(\"current page: \" + app.currentPage);\n  }\n}\n\nsetButtons();\n\npaginationDiv.addEventListener('click', onPaginationDivClick);\n\nbtn1.classList.add('active');\n"],"names":["$bzNN1","parcelRequire","default","getMoviesTodayTrends","async","page","currentPage","galleryULElement","document","getElementById","MOVIE_CARDS_PARENT_ELEMENT_ID","Loading","circle","movies","api","get","movieCards","showMovieCards","innerHTML","totalPages","total_pages","remove","renderMovieCardHTML","movieId","movieObject","moviePoster","poster_path","movieYear","release_date","split","movieTitle","original_title","genresArray","genres","genre","push","name","length","join","createMovieCardId","moviesArray","html","movie","results","id","getMoviesByKeyWord","keyword","currentKeyword","keywordData","total_results","onSearchFailed","$b56d99dff7aa96c2$var$formError","querySelector","classList","onSearchSuccess","add","$f5e6fd307675be08$var$paginationDiv","$f5e6fd307675be08$var$firstBtn","$f5e6fd307675be08$var$lastBtn","$f5e6fd307675be08$var$btn1","$f5e6fd307675be08$var$btn2","$f5e6fd307675be08$var$btn3","$f5e6fd307675be08$var$btn4","$f5e6fd307675be08$var$btn5","$f5e6fd307675be08$var$setButtons","textContent","value","addEventListener","event","elementWhichWasClicked","target","nodeName","buttonId","console","log","currentWebPage"],"version":3,"file":"index.88d84f0d.js.map"}