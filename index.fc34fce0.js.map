{"mappings":"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","sources":["src/index.js","src/js/gallery.js","src/js/keyword.js","src/js/search-form.js","src/js/pagination-gallery.js"],"sourcesContent":["import app from './js/global/app';\n\napp.currentWebPage = 'home';\n\nimport './js/gallery';\nimport './js/keyword';\nimport './js/search-form';\nimport './js/pagination-gallery';\nimport './js/footer';\nimport './js/movie-window';\n","import app from './global/app';\n\napp.getMoviesTodayTrends = async function () {\n  app.Loading.circle();\n\n  const galleryULElement = document.getElementById(\n    app.MOVIE_CARDS_PARENT_ELEMENT_ID\n  );\n\n  const movies = await app.api.get(`movie/popular?page=${app.currentPage}`);\n  const movieCards = await app.showMovieCards(movies);\n\n  galleryULElement.innerHTML = movieCards;\n\n  app.totalPages = movies.total_pages;\n  app.setPaginationButtons();\n  app.Loading.remove();\n};\n\napp.getMoviesByKeyWord = async function (keyword) {\n  app.Loading.circle();\n\n  const galleryULElement = document.getElementById(\n    app.MOVIE_CARDS_PARENT_ELEMENT_ID\n  );\n\n  galleryULElement.innerHTML = '';\n\n  const movies = await app.api.get(\n    `discover/movie?with_keywords=${keyword}&page=${app.currentPage}`\n  );\n  const movieCards = await app.showMovieCards(movies);\n\n\n  app.Loading.remove();\n\n  if (movies.total_results > 0) {\n    app.currentKeyword = keyword;\n    app.totalPages = movies.total_pages;\n    app.onSearchSuccess();\n    galleryULElement.innerHTML = movieCards;\n  } else {\n    app.currentKeyword = '';\n    app.totalPages = 0;\n    app.onSearchFailed();\n  }\n\n  app.setPaginationButtons();\n};\n\napp.renderMovieCardHTML = async function (movieId) {\n  try {\n    const movieObject = await app.api.get('movie/' + movieId);\n\n    const moviePoster =\n      'https://image.tmdb.org/t/p/w500' + movieObject.poster_path;\n    const movieYear = movieObject.release_date.split('-')[0];\n    const movieTitle = movieObject.original_title;\n\n    const genresArray = [];\n\n    let genres = '';\n\n    for (const genre of movieObject.genres) {\n      genresArray.push(genre.name);\n    }\n\n    if (genresArray.length > 2) {\n      genres = `${genresArray[0]}, ${genresArray[1]}, Other`;\n    } else {\n      genres = genresArray.join(', ');\n    }\n\n    return `\n      <li class = \"movie-card\" id=\"${app.createMovieCardId(movieId)}\">\n          <div class=\"movie-thumb\">\n            <img class=\"movie-image\" src=\"${moviePoster}\" alt=\"Poster image\" loading=\"lazy\" />\n          </div>\n          <div class=\"movie-info\">\n            <p class=\"movie-name\">${movieTitle}</p>\n            <p class=\"movie-genres\">${genres} | ${movieYear}</p>\n          </div>\n        </li>`;\n  } catch (error) {\n    console.log('API: Movie ' + movieId + \" don't exist in api database!\");\n\n    return '';\n  }\n};\n\napp.showMovieCards = async function (moviesArray) {\n  let html = '';\n\n  for (const movie of moviesArray.results) {\n    html += await app.renderMovieCardHTML(movie.id);\n  }\n\n  return html;\n};\n\napp.getMoviesTodayTrends();\n","import app from './global/app';\n\n// app.getMoviesByKeyWord = async function (keyword) {\n//   app.currentKeyword = keyword;\n//   const keyword = await app.api.get('search/keyword?query=${keyword}');\n//   console.log(keyword);\n//   return keyword;\n// };\n\n// app.getMoviesByKeyWord();\n\n\n//   app.currentKeyword = keyword;\n\n//   const keywordData = await app.api.get(`search/keyword?query=${keyword}&page${app.currentPage}`);\n\n//   if (keywordData.total_results > 0) {\n//     return keywordData;\n//   } else {\n//     app.onSearchFailed();\n//     throw new Error('No movies found');\n//   }\n// };\n\n// app.getMoviesByKeyWord('keyword');\n","import app from './global/app';\n\nconst searchMsg = document.querySelector('.search-msg');\nconst searchForm = document.getElementById(app.SEARCH_FORM_ELEMENT_ID);\n\nfunction onSubmit(event) {\n  const keyword = event.target.elements.keyword.value;\n\n  event.preventDefault();\n  app.getMoviesByKeyWord(keyword);\n}\n\nsearchForm.addEventListener('submit', onSubmit);\n\napp.onSearchFailed = function () {\n  searchMsg.classList.remove('hidden');\n};\n\napp.onSearchSuccess = function () {\n  searchMsg.classList.add('hidden');\n};\n","import app from './global/app';\n\nconst paginationDiv = document.querySelector('div.pagination');\n\nconst firstBtn = document.getElementById('first-btn');\nconst lastBtn = document.getElementById('last-btn');\n\napp.setPaginationButtons = function () {\n  const btn1 = document.getElementById('btn1');\n  const btn2 = document.getElementById('btn2');\n  const btn3 = document.getElementById('btn3');\n  const btn4 = document.getElementById('btn4');\n  const btn5 = document.getElementById('btn5');\n\n  const buttonsArray = [btn1, btn2, btn3, btn4, btn5];\n\n  let activeBtn = null;\n\n  firstBtn.textContent = '1';\n  firstBtn.value = '1';\n\n  lastBtn.textContent = app.totalPages;\n  lastBtn.value = app.totalPages;\n\n  if (app.currentPage < 3) {\n    btn1.textContent = '1';\n    btn1.value = '1';\n\n    btn2.textContent = '2';\n    btn2.value = '2';\n\n    btn3.textContent = '3';\n    btn3.value = '3';\n\n    btn4.textContent = '4';\n    btn4.value = '4';\n\n    btn5.textContent = '5';\n    btn5.value = '5';\n  } else if (app.currentPage > app.totalPages - 3) {\n    btn1.textContent = app.totalPages - 4;\n    btn1.value = app.totalPages - 4;\n\n    btn2.textContent = app.totalPages - 3;\n    btn2.value = app.totalPages - 3;\n\n    btn3.textContent = app.totalPages - 2;\n    btn3.value = app.totalPages - 2;\n\n    btn4.textContent = app.totalPages - 1;\n    btn4.value = app.totalPages - 1;\n\n    btn5.textContent = app.totalPages;\n    btn5.value = app.totalPages;\n  } else {\n    btn1.textContent = app.currentPage - 2;\n    btn1.value = app.currentPage - 2;\n\n    btn2.textContent = app.currentPage - 1;\n    btn2.value = app.currentPage - 1;\n\n    btn3.textContent = app.currentPage;\n    btn3.value = app.currentPage;\n\n    btn4.textContent = app.currentPage + 1;\n    btn4.value = app.currentPage + 1;\n\n    btn5.textContent = app.currentPage + 2;\n    btn5.value = app.currentPage + 2;\n  }\n\n  buttonsArray.forEach(btn => {\n    btn.classList.remove('active');\n  });\n\n  activeBtn = buttonsArray.find(btn => btn.value == app.currentPage);\n  activeBtn.classList.add('active');\n};\n\nfunction onPaginationDivClick(event) {\n  const elementWhichWasClicked = event.target;\n  if (elementWhichWasClicked.nodeName === 'BUTTON') {\n    const buttonId = elementWhichWasClicked.id;\n\n    if (buttonId === 'left-btn') {\n      if (app.currentPage > 1) {\n        app.currentPage -= 1;\n      }\n    } else if (buttonId === 'right-btn') {\n      if (app.currentPage < app.totalPages - 1) {\n        app.currentPage += 1;\n      }\n    } else {\n      app.currentPage = elementWhichWasClicked.value;\n    }\n\n    if (app.currentKeyword) {\n      app.getMoviesByKeyWord(app.currentKeyword);\n    } else {\n      app.getMoviesTodayTrends();\n    }\n\n    console.log('current page: ' + app.currentPage);\n  }\n}\n\npaginationDiv.addEventListener('click', onPaginationDivClick);\n"],"names":["$bzNN1","parcelRequire","default","getMoviesTodayTrends","async","Loading","circle","galleryULElement","document","getElementById","MOVIE_CARDS_PARENT_ELEMENT_ID","movies","api","get","currentPage","movieCards","showMovieCards","innerHTML","totalPages","total_pages","setPaginationButtons","remove","getMoviesByKeyWord","keyword","total_results","currentKeyword","onSearchSuccess","onSearchFailed","renderMovieCardHTML","movieId","movieObject","moviePoster","poster_path","movieYear","release_date","split","movieTitle","original_title","genresArray","genres","genre","push","name","length","join","createMovieCardId","error","console","log","moviesArray","html","movie","results","id","$b56d99dff7aa96c2$var$searchMsg","querySelector","SEARCH_FORM_ELEMENT_ID","addEventListener","event","target","elements","value","preventDefault","classList","add","$f5e6fd307675be08$var$paginationDiv","$f5e6fd307675be08$var$firstBtn","$f5e6fd307675be08$var$lastBtn","btn1","btn2","btn3","btn4","btn5","buttonsArray","activeBtn","textContent","forEach","btn","find","elementWhichWasClicked","nodeName","buttonId","currentWebPage"],"version":3,"file":"index.fc34fce0.js.map"}